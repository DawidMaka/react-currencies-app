(this["webpackJsonpreact-currencies-app"]=this["webpackJsonpreact-currencies-app"]||[]).push([[0],{63:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var c=t(1),r=t(0),n=t.n(r),s=t(15),i=t.n(s),l=t(10),u=t(12),d=t(33),o=t(36),b=t(3),j=t(34),m=t.n(j),O="FETCH_CURRENCIES_REQUEST",p="FETCH_CURRENCIES_SUCCESS",h="FETCH_CURRENCIES_FAILURE",f="ADD_DISABLE_SUCCESS",v="REMOVE_DISABLE_SUCCESS",y="REMOVE_ALL_DISABLE_SUCCESS",x="ADD_FAVOURITE_SUCCESS",g="REMOVE_FAVOURITE_SUCCESS",N="REMOVE_ALL_FAVOURITES_SUCCESS",C={currencies:[],favourites:[],error:null,status:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O:return Object(b.a)(Object(b.a)({},e),{},{status:"fetching"});case p:return Object(b.a)(Object(b.a)({},e),{},{status:"fetched",currencies:a.payload.data.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{disabled:!1})}))});case h:return Object(b.a)(Object(b.a)({},e),{},{status:"error",error:a.payload});case x:return Object(b.a)(Object(b.a)({},e),{},{favourites:[].concat(Object(o.a)(e.favourites),[a.payload.item])});case f:return Object(b.a)(Object(b.a)({},e),{},{currencies:e.currencies.map((function(e){return e.code===a.payload.item.code?Object(b.a)(Object(b.a)({},e),{},{disabled:!0}):e}))});case v:return Object(b.a)(Object(b.a)({},e),{},{currencies:e.currencies.map((function(e){return e.code===a.payload.item.code?Object(b.a)(Object(b.a)({},e),{},{disabled:!1}):e}))});case y:return Object(b.a)(Object(b.a)({},e),{},{currencies:e.currencies.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{disabled:!1})}))});case g:return Object(b.a)(Object(b.a)({},e),{},{favourites:e.favourites.filter((function(e){return e.code!==a.payload.item.code}))});case N:return Object(b.a)(Object(b.a)({},e),{},{favourites:[]});default:return e}},S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c,R=Object(u.d)(E,S(Object(u.a)(d.a))),_=t(14),F=t(5),k=(t(63),t(17)),T=t(2),U=t.n(T),A=n.a.memo((function(e){var a=e.tag,t=e.className,r=Object(k.a)(e,["tag","className"]);return Object(c.jsx)(a,Object(b.a)({className:t},r))}));A.displayName="Heading";var I=A;A.propTypes={tag:U.a.string,className:U.a.string},A.defaultProps={tag:"h1",className:void 0};var L=function(){return Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{className:"nav nav-pills justify-content-center my-4",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(_.b,{exact:!0,className:"nav-link",to:"/",activeclass:"active",children:"Currencies"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(_.b,{className:"nav-link",to:"/favourites",activeclass:"active",children:"Favourites"})})]})})};L.displayName="Nav";var w=L,D=function(e){var a=e.children,t=e.location.pathname;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("header",{children:[Object(c.jsx)(I,{tag:"/"===t?"h1":"span",className:"sr-only",children:"Currency application"}),Object(c.jsx)(w,{})]}),Object(c.jsx)("main",{className:"container text-center",children:a})]})};D.displayName="MainTemplate";var q=Object(F.f)(D),M=n.a.memo((function(e){var a=e.currency,t=e.type,r=e.handleOnClickFn,n=Object(k.a)(e,["currency","type","handleOnClickFn"]),s=a?function(){return r(a)}:function(){return r()};return Object(c.jsx)("button",Object(b.a)({type:t,onClick:s},n))}));M.displayName="Button";var V=M;M.defaultProps={type:"button",currency:{}};var B=n.a.memo((function(e){var a=e.className,t=e.children;return Object(c.jsx)("ul",{className:a,children:t})}));B.displayName="ListGroup";var H=B;B.propTypes={className:U.a.string.isRequired,children:U.a.arrayOf(U.a.shape({ask:U.a.number,bid:U.a.number,code:U.a.string,currency:U.a.string,disabled:U.a.bool})).isRequired};var P=n.a.memo((function(e){var a=e.children;return Object(c.jsx)("li",{className:"list-group-item d-flex flex-column flex-sm-row justify-content-between align-items-center",children:a})}));P.displayName="ListGroupItem",P.propTypes={children:U.a.arrayOf(U.a.element).isRequired};var G=P,J=n.a.memo((function(e){var a=e.currency,t=a.code,r=a.bid,n=a.ask;return Object(c.jsxs)("div",{children:[t,Object(c.jsxs)("span",{className:"badge border border-success text-success align-middle ml-1",children:["bid:"," ",r]}),Object(c.jsxs)("span",{className:"badge border border-danger text-danger align-middle ml-1",children:["ask:"," ",n]})]})}));J.displayName="Currency";var X=J;J.propTypes={currency:U.a.shape({ask:U.a.number,bid:U.a.number,code:U.a.string}).isRequired};var Q=n.a.memo((function(e){var a=e.currencies,t=e.buttonText,r=e.handleOnClickFn;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(H,{className:"list-group mt-4",children:a.map((function(e){return Object(c.jsxs)(G,{children:[Object(c.jsx)(X,{currency:e}),Object(c.jsx)(V,{className:"btn btn-".concat("Remove"===t?"danger":"success"," btn-sm"),disabled:"Remove"!==t&&e.disabled,currency:e,handleOnClickFn:r,children:t})]},e.code)}))})})}));Q.displayName="CurrenciesList";var Y=Q;Q.propTypes={currencies:U.a.arrayOf(U.a.shape({ask:U.a.number,bid:U.a.number,code:U.a.string,currency:U.a.string,disabled:U.a.bool})).isRequired,buttonText:U.a.string.isRequired,handleOnClickFn:U.a.func.isRequired};var z=n.a.memo((function(e){var a=e.className,t=e.children;return Object(c.jsx)("p",{className:a,children:t})}));z.displayName="ErrorMessage";var K=z;z.propTypes={className:U.a.string,children:U.a.string.isRequired},z.defaultProps={className:"text-danger"};var W=function(){return Object(c.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",children:Object(c.jsx)("div",{className:"spinner-border ",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})})};W.displayName="Spinner";var Z=W,$=function(){var e=Object(l.d)((function(e){return e.status})),a=Object(l.d)((function(e){return e.error})),t=Object(l.d)((function(e){return e.currencies}),l.b),n=Object(l.c)();Object(r.useEffect)((function(){t.length||n((function(e){return e({type:O}),m.a.get("https://api.nbp.pl/api/exchangerates/tables/c/").then((function(a){var t=a.data;e({type:p,payload:{data:t[0].rates}})})).catch((function(){e({type:h,payload:"Something went wrong, please refresh the site..."})}))}))}),[]);var s=Object(r.useCallback)((function(e){n({type:x,payload:{item:e}}),n(function(e){return{type:f,payload:{item:e}}}(e))}),[]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I,{tag:"h2",children:"Currencies"}),"error"===e&&Object(c.jsx)(K,{children:a}),"fetching"===e&&Object(c.jsx)(Z,{}),"fetched"===e&&Object(c.jsx)(Y,{currencies:t,buttonText:"Add to Favourites",handleOnClickFn:s})]})};$.displayName="Home";var ee=$,ae=t(35),te=Object(ae.a)((function(e){return e.currencies}),(function(e){return e.filter((function(e){return e.disabled}))})),ce=function(){var e=Object(l.d)(te,l.b),a=Object(l.c)(),t=Object(r.useCallback)((function(){a({type:N}),a({type:y})}),[]),n=Object(r.useCallback)((function(e){window.confirm("Are you sure?")&&(a({type:g,payload:{item:e}}),a(function(e){return{type:v,payload:{item:e}}}(e)))}),[]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I,{tag:"h2",className:"d-inline-block align-sub mb-0",children:"Favourites"}),Object(c.jsx)(V,{className:"btn btn-danger btn-sm ml-3",handleOnClickFn:t,disabled:!1,children:"Remove All"}),e.length?Object(c.jsx)(Y,{currencies:e,buttonText:"Remove",handleOnClickFn:n,disabled:!1}):Object(c.jsx)("p",{className:"mt-4",children:"You have not added any favourites currencies yet."})]})};ce.displayName="Favourites";var re=ce,ne=function(){return Object(c.jsx)(l.a,{store:R,children:Object(c.jsx)(_.a,{basename:"/",children:Object(c.jsx)(q,{children:Object(c.jsxs)(F.c,{children:[Object(c.jsx)(F.a,{exact:!0,path:"/",component:ee}),Object(c.jsx)(F.a,{path:"/favourites",component:re})]})})})})};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(ne,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.69e39cbc.chunk.js.map